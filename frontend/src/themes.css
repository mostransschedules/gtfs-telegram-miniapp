/* ============================================================
   THEMES
   ============================================================ */

/* Black Theme (default) */
.theme-black {
  --app-bg: #000000;
  --app-bg-secondary: #1a1a1a;
  --app-text: #ffffff;
  --app-text-secondary: #a0a0a0;
  --app-border: rgba(255, 255, 255, 0.1);
  --app-accent: #3390ec;
  --app-card-bg: #1a1a1a;
  --app-card-hover: #2a2a2a;
  --app-shadow: rgba(0, 0, 0, 0.5);
}

.theme-black body {
  background: #000000 !important;
  color: #ffffff !important;
}

/* White Theme */
.theme-white {
  --app-bg: #f5f5f5;
  --app-bg-secondary: #ffffff;
  --app-text: #000000;
  --app-text-secondary: #666666;
  --app-border: rgba(0, 0, 0, 0.08);
  --app-accent: #3390ec;
  --app-card-bg: #ffffff;
  --app-card-hover: #f9f9f9;
  --app-shadow: rgba(0, 0, 0, 0.08);
}

.theme-white body {
  background: #f5f5f5 !important;
  color: #000000 !important;
}

/* Карточки в белой теме */
.theme-white .route-card,
.theme-white .route-card-list,
.theme-white .stop-card,
.theme-white .favorite-card,
.theme-white .favorite-card-grouped,
.theme-white .search-box input {
  background: #ffffff !important;
  color: #000000 !important;
  border: 1px solid rgba(0, 0, 0, 0.08);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
}

.theme-white .route-card:hover,
.theme-white .route-card-list:hover,
.theme-white .stop-card:hover {
  background: #f9f9f9 !important;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
}

/* Текст в белой теме */
.theme-white h1,
.theme-white h2,
.theme-white h3,
.theme-white h4,
.theme-white .route-number,
.theme-white .route-name,
.theme-white .stop-name {
  color: #000000 !important;
}

.theme-white .subtitle,
.theme-white .favorite-meta,
.theme-white .stop-next-departure {
  color: #666666 !important;
}

/* Чипсы времени в белой теме */
.theme-white .time-chip-small {
  background: #f5f5f5 !important;
  color: #000000 !important;
  border: 1px solid rgba(0, 0, 0, 0.08);
}

.theme-white .time-chip-small:hover {
  background: #e8e8e8 !important;
}

/* Кнопки в белой теме */
.theme-white .back-button-floating,
.theme-white .action-button,
.theme-white .theme-button {
  background: #3390ec !important;
  color: #ffffff !important;
  border: none !important;
}

.theme-white .view-toggle-btn {
  background: #ffffff !important;
  color: #000000 !important;
  border: 1px solid rgba(0, 0, 0, 0.08) !important;
}

.theme-white .view-toggle-btn.active {
  background: #3390ec !important;
  color: #ffffff !important;
}

/* Селекторы в белой теме */
.theme-white .day-type-selector button,
.theme-white .direction-selector button {
  background: #ffffff;
  color: #666666;
  border: 1px solid rgba(0, 0, 0, 0.08);
}

.theme-white .day-type-selector button.active,
.theme-white .direction-selector button.active {
  background: #3390ec;
  color: #ffffff;
  border-color: #3390ec;
}

/* Избранное в белой теме */
.theme-white .favorites-section {
  background: transparent;
}

.theme-white .favorites-header {
  background: #ffffff;
  border: 1px solid rgba(0, 0, 0, 0.08);
}

.theme-white .favorite-route-item {
  background: #f5f5f5 !important;
  border: 1px solid rgba(0, 0, 0, 0.08);
}

/* Поиск в белой теме */
.theme-white .search-box input::placeholder {
  color: #999999;
}

/* Вкладки StatsTabs в белой теме */
.theme-white .stats-tabs {
  background: #ffffff;
  border: 1px solid rgba(0, 0, 0, 0.08);
}

.theme-white .stats-tab {
  color: #666666;
  background: transparent;
}

.theme-white .stats-tab.active {
  color: #3390ec;
  background: rgba(51, 144, 236, 0.1);
}

/* Контент вкладок в белой теме */
.theme-white .stats-content,
.theme-white .intervals-section,
.theme-white .durations-section,
.theme-white .statistics-section {
  background: #ffffff;
  color: #000000;
}

/* Карточки статистики в белой теме */
.theme-white .stat-card,
.theme-white .duration-card {
  background: #3390ec !important;
  color: #ffffff !important;
  border: none;
}

.theme-white .stat-card h3,
.theme-white .duration-card h3 {
  color: #ffffff !important;
}

/* График в белой теме */
.theme-white .chart-container {
  background: #f5f5f5;
  border: 1px solid rgba(0, 0, 0, 0.08);
}

.theme-white .chart-hint,
.theme-white .zoom-hint {
  background: #ffffff;
  color: #000000;
  border: 1px solid rgba(0, 0, 0, 0.08);
}

/* Названия маршрутов в белой теме */
.theme-white .route-name,
.theme-white .route-long-name {
  color: #000000 !important;
}

/* Секции по часам в белой теме */
.theme-white .hour-group {
  background: #ffffff;
  border: 1px solid rgba(0, 0, 0, 0.08);
}

.theme-white .hour-header {
  background: #f5f5f5;
  color: #000000;
}

/* Glass Theme */
.theme-glass {
  --app-bg: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  --app-bg-secondary: rgba(255, 255, 255, 0.1);
  --app-text: #ffffff;
  --app-text-secondary: rgba(255, 255, 255, 0.7);
  --app-border: rgba(255, 255, 255, 0.2);
  --app-accent: #ffffff;
  --app-card-bg: rgba(255, 255, 255, 0.15);
  --app-card-hover: rgba(255, 255, 255, 0.25);
  --app-shadow: rgba(0, 0, 0, 0.2);
}

/* Применяем фон */
body {
  background: var(--app-bg);
  color: var(--app-text);
}

.theme-glass body {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  background-attachment: fixed;
}

/* ============================================================
   GLASS THEME - ПОЛНАЯ СТЕКЛЯННОСТЬ
   ============================================================ */

/* Все карточки */
.theme-glass .route-card,
.theme-glass .route-card-list,
.theme-glass .stop-card,
.theme-glass .favorite-card,
.theme-glass .favorite-card-grouped,
.theme-glass .favorites-section,
.theme-glass .search-box input,
.theme-glass .schedule {
  background: rgba(255, 255, 255, 0.15) !important;
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
}

.theme-glass .route-card:hover,
.theme-glass .route-card-list:hover,
.theme-glass .stop-card:hover {
  background: rgba(255, 255, 255, 0.25) !important;
  backdrop-filter: blur(14px);
  -webkit-backdrop-filter: blur(14px);
  transform: translateY(-2px);
}

/* Чипсы времени расписания */
.theme-glass .time-chip-small {
  background: rgba(255, 255, 255, 0.2) !important;
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: #ffffff !important;
}

.theme-glass .time-chip-small:hover {
  background: rgba(255, 255, 255, 0.3) !important;
  transform: scale(1.05);
}

/* Секции расписания по часам */
.theme-glass .hour-group {
  background: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  border: 1px solid rgba(255, 255, 255, 0.15);
}

.theme-glass .hour-header {
  background: rgba(255, 255, 255, 0.15);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  color: #ffffff;
}

/* Кнопки */
.theme-glass .back-button-floating,
.theme-glass .action-button,
.theme-glass .theme-button,
.theme-glass .view-toggle-btn {
  background: rgba(255, 255, 255, 0.2) !important;
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  border: 1px solid rgba(255, 255, 255, 0.3) !important;
  color: #ffffff !important;
}

.theme-glass .back-button-floating:hover,
.theme-glass .action-button:hover,
.theme-glass .theme-button:hover,
.theme-glass .view-toggle-btn:hover {
  background: rgba(255, 255, 255, 0.3) !important;
  border-color: rgba(255, 255, 255, 0.4) !important;
}

.theme-glass .view-toggle-btn.active {
  background: rgba(255, 255, 255, 0.4) !important;
  border-color: rgba(255, 255, 255, 0.5) !important;
}

/* Селекторы дня и направления */
.theme-glass .day-type-selector button,
.theme-glass .direction-selector button {
  background: rgba(255, 255, 255, 0.15);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: rgba(255, 255, 255, 0.7);
}

.theme-glass .day-type-selector button.active,
.theme-glass .direction-selector button.active {
  background: rgba(255, 255, 255, 0.3);
  border-color: rgba(255, 255, 255, 0.4);
  color: #ffffff;
}

.theme-glass .day-type-selector button:hover,
.theme-glass .direction-selector button:hover {
  background: rgba(255, 255, 255, 0.25);
}

/* Избранное */
.theme-glass .favorites-header {
  background: rgba(255, 255, 255, 0.15);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.2);
}

.theme-glass .favorites-content {
  background: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
}

.theme-glass .favorite-route-item {
  background: rgba(255, 255, 255, 0.15) !important;
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  border: 1px solid rgba(255, 255, 255, 0.2);
}

.theme-glass .favorite-route-item:hover {
  background: rgba(255, 255, 255, 0.25) !important;
}

/* Модальное окно настроек */
.theme-glass .theme-modal {
  background: rgba(255, 255, 255, 0.15);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.2);
}

.theme-glass .theme-option {
  background: rgba(255, 255, 255, 0.1) !important;
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border: 2px solid rgba(255, 255, 255, 0.2) !important;
}

.theme-glass .theme-option:hover {
  background: rgba(255, 255, 255, 0.2) !important;
  border-color: rgba(255, 255, 255, 0.3) !important;
}

.theme-glass .theme-option.active {
  background: rgba(255, 255, 255, 0.25) !important;
  border-color: rgba(255, 255, 255, 0.4) !important;
}

/* Текст */
.theme-glass h1, 
.theme-glass h2, 
.theme-glass h3, 
.theme-glass h4,
.theme-glass p,
.theme-glass span,
.theme-glass div {
  color: #ffffff;
}

.theme-glass .subtitle,
.theme-glass .favorite-meta,
.theme-glass .favorite-group-meta {
  color: rgba(255, 255, 255, 0.7);
}

/* ============================================================
   УНИВЕРСАЛЬНЫЕ СТИЛИ ДЛЯ ВСЕХ ТЕМ
   ============================================================ */
.route-card,
.stop-card,
.favorite-card,
.favorite-card-grouped {
  background: var(--app-card-bg);
  color: var(--app-text);
  border: 1px solid var(--app-border);
}

.route-card:hover,
.stop-card:hover {
  background: var(--app-card-hover);
}

/* Текст */
h1, h2, h3, h4, h5, h6 {
  color: var(--app-text);
}

p, span, div {
  color: var(--app-text);
}

.favorite-meta,
.favorite-group-meta,
.stop-next-departure {
  color: var(--app-text-secondary);
}
